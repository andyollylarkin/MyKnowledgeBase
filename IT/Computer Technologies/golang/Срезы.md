---
aliases: [slice in go, go slice, срезы, слайсы]
tags: [go, golang, basis]
---
# Срезы
<h6>24-09-2022</h6>
----------
## Определение
Срезы(*слайсы*) абстракция языка Golang построенная поверх [[Массив|массивов]]. 


### Определение структуры
```go
type slice struct {  
   array unsafe.Pointer  //int - 8 byte
   len   int  // 8 byte
   cap   int  // 8 byte
}
```

##  Устройство срезов
Срез это структура, которая хранит указатель на базовый массив + 2 служебных поля: длина и вместимость.
С помощью двух одноименных встроенных в язык функций можно получить значения этих полей для среза.

>Указатель на базовый массив указывает на первый элемент массива

## Индексация срезов
Такая же как у [[Массив|массивов]], т.е. с 0

## Добавление в срез
При добавлении в срез, если текущий cap <= len, то cap среза увеличивается в 2 раза.
> Из исходного кода можно понять, что для больших срезов увеличение будет в 1.25 раз. Большими считаются слайсы у которых cap > 256

## Создание среза из базового массива
![[Pasted image 20230205201501.png]]

![[Pasted image 20230205204258.png]]

### Плюсы срезов
- Удобство использования. Срезы динамически расширяемые, что позволяет добавлять в них элементы.
#### Минусы срезов
- Доп. аллокации памяти при расширении *cap* среза.
- Весит больше массива на 24 байта. 8 байт на *указатель* на базовый массив, 8 байт на длину(*len*), 8 на вместимость(*cap*)
---
## Библиография
- [Максимальная длина среза - Stackoverflow](https://stackoverflow.com/questions/27647737/maximum-length-of-a-slice-in-go)
