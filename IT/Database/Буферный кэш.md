---
aliases: [pg buffer cache, postgres buffer, pg background writer]
tags: [db, database, basis, foundation, cs, postgres]
---
# Буферный кэш
<h6>03-10-2022</h6>
----------
## Определение
Структура данных в памяти которая ускоряет доступ к данным путем чтения и хранения данных с диска в оперативной памяти.


![[Pasted image 20221003193508.png]]

## За счет чего происходит ускорение при использовании буферного кэша?
Сам кеш хранится в оперативной памяти. Архитектурно *postgres* устроен так, что он использует как свой буф. кэш, так и кэш ОС.
Даже если ОС фактически не будет считывать данные с диска, и эти данные окажутся у неё в кэше, то время все равно потратится на [[системный вызов]] ОС.


> Процесс background writer который создается postmaster'ом, это процесс который записывает на диск "грязные страницы". Страница считается грязной если в ней были изменены данные.


![[Pasted image 20221003205033.png]]


> ***read*** - кол-во буферов в которые пришлось прочитать страницы.
> ***hit*** - кол-во "попаданий" в буфер. Т.е. данные нашлись в буфере и не читались с диска.

---
## Библиография
- [Курс от PostgresPRO](https://edu.postgrespro.ru/dev1-12/dev1_04_arch_wal_overview.html)
