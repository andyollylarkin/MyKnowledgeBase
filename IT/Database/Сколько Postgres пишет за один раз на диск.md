---
aliases: []
tags: [research]
---
# Сколько Postgres пишет за один раз на диск
<h6>03-10-2022</h6>
----------
## Определение
Исследование на тему - сколько за один раз Postgres записывает данных на диск.
Ответ: 8192 байта, или 8 килобайт.

Это соотносится с документацией [Компоновка страницы БД](https://postgrespro.ru/docs/postgrespro/13/storage-page-layout)

> Каждая таблица и индекс хранятся как массив страниц фиксированного размера (обычно 8 kB, *хотя можно выбрать другой размер страницы при компиляции сервера*)

## Как увидеть своими глазами?
Узнаем id процесса, дальше идем в */proc/pid*, и читаем файл IO
```bash
watch -d -n 1 cat ./io
```

Изначально:
![[Pasted image 20221003183514.png]]

Записываем данные в какую нибудь таблицу:

![[Pasted image 20221003183544.png]]

Стало:
![[Pasted image 20221003183634.png]]

Итого:
write_bytes (initial) - write_bytes(current) = <span style="color: blue"><b>57344-49152 = 8192 или 8 kB</b></span>

---
## Библиография
- 
