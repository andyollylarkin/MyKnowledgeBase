# Переменные окружения в Linux
#linux #env #environ #environment
-   Шелл - командный интерпретатор с запущенным сеансом
    
-   Каждой программе в ОС Linux при её старте передаётся строковый массив который называется окружением (environment). Он представляет собой список пар **ключ=значение** как любая переменная в любом языке программирования в которых существуют переменные.
    
### Виды переменных окружения:
    
-   Переменные окружения можно разделить на 3 общих типа:
    

1.  Локальные переменные. Эти переменные определены для текущей сессии и будут удалены после её закрытия.
    
2.  Пользовательские переменные окружения. Эти переменные определяются для конкретного пользователя и будут доступны только ему при старте новой сессии.
    
3.  Системные переменные окружения. Эти переменные доступны глобально каждому пользователю системы.
    

### Так же их можно поделить на:
1.  Локальные - которые доступны только в текущем сеансе
    
2.  Глобальные - будут доступны дочерним процессам порожденным от текущего
    

-   В самом деле названия выше выше немного утрированы. Локальные переменные правильней называть локальными переменными текущего шелла. Глобальные переменные правильней назвать переменными среды пользователя.
    
-   Пример локальных переменных:
    
```shell
~/$ A=10; echo $A # выведет 10

~/$ bash #порождаем новый интерпретатор

~/$ echo $A # не выведет ничего так как в новом процессе переменная не определена

1.  Пример глобальных переменных:
    

~/$ export A=10; echo $A # выведет 10

~/$ bash #порождаем новый интерпретатор

~/$ echo $A # выведет 10. Переменная доступна сабшелу
``` 
1. Список файлов в которых определяются переменные окружения:
    

-   **.bashrc** - в нем определены переменные окружения конкретного пользователя. Загружается при каждом создании сеанса.
    
-   **.bash_profile** - эти переменные определяются для конкретного пользователя при создании сеанса, но в данном случае удаленного. Например SSH.
    
-   **/etc/environment** - файл в котором можно создать переменные окружения которые будут доступны каждому пользователю системы не зависимо от типа сеанса, локально или удаленно.
    
-   **/etc/profile** - переменные определенные в данном файле будут доступны любому пользователю системы, вошедшему удаленно
    

2.  При изменении переменных в этих файлах, чтобы они стали доступны в текущем сеансе без перезапуска сеанса можно выполнить команду **source %file% -** где файлом может выступать любой из файлов описанных выше.  
## О командах для работы с переменными
    

-   **env** - внешняя команда для отображения переменных среды пользователя. В её выводе мы не увидим переменные определенные локальные переменные
    
```shell
~/$ A=10;

~/$ env|grep "A\=10"; # пусто, переменная не определена среди переменных среды
```
-   **set** - является встроенной во многие (возможно во все, тут нужно уточнить) оболочки (**sh, bash, csh, zsh, fish** и т.д.) командой. Она отображает локальные переменные текущего шелла и глобальные.
    
```shell
/$ A=10;

/$ set|grep "A\=10"; # A=10, переменная определена локально
```
-   **export** - встроенная команда. Позволяет экспортировать локальные переменные в переменные среды.
    
-   **declare** - встроенная команда. Аналогична команде set.
    
-   **unset** - удаляет переменные окружения до конца текущего сеанса. То есть если некая переменная определена в файле который шелл читает при старте, при следующем старте переменная будет определена заново.